{% extends "base.html" %}
{% block title %}Confirmação de Depósito - Brutal Crypto{% endblock %}

{% block content %}
<div class="deposit-confirm-container" style="display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:80vh; background:#fff; color:#111; padding:50px; border-radius:20px; box-shadow:0 0 30px rgba(0,0,0,0.15);">
    <h2 style="color:#ff3b3b; margin-bottom:20px;">Confirmação de Depósito</h2>
    <p>Você solicitou um depósito de <strong style="color:#ff3b3b;">R$ {{ amount }}</strong></p>

    <div style="margin:30px 0; text-align:center;">
        <h4 style="color:#222;">Escaneie este QR Code para pagar:</h4>
        <div style="background:#f7f7f7; padding:15px; border-radius:15px; display:inline-block; box-shadow:0 0 10px rgba(0,0,0,0.1);">
            <img src="data:image/png;base64,{{ qr_img }}" alt="QR Code PIX" style="width:260px; height:260px; border-radius:15px;">
        </div>
        <p style="margin-top:15px;">Chave PIX: <strong id="pix-key" style="color:#ff3b3b;">{{ pix_key }}</strong>
            <button onclick="copyPix()" style="padding:6px 14px; border:none; border-radius:8px; background:#ff3b3b; color:#fff; cursor:pointer; font-weight:bold;">Copiar</button>
        </p>

        <div style="margin-top:20px; background:#f7f7f7; padding:15px; border-radius:10px; max-width:500px; word-break:break-word; text-align:left; box-shadow:0 0 8px rgba(0,0,0,0.05);">
            <p style="margin:0; font-size:14px; color:#555;">Payload PIX completo:</p>
            <code style="color:#ff3b3b; font-size:13px;">{{ payload }}</code>
        </div>
    </div>

    <a href="{{ url_for('dashboard') }}" style="padding:12px 25px; background:#ff3b3b; border:none; border-radius:12px; color:#fff; font-weight:bold; text-decoration:none; transition:0.3s; cursor:pointer;">Voltar ao Dashboard</a>
</div>

<script>
function copyPix() {
    const key = document.getElementById("pix-key").innerText;
    navigator.clipboard.writeText(key).then(() => {
        alert("Chave PIX copiada!");
    }).catch(err => {
        alert("Erro ao copiar a chave PIX");
    });
}
</script>
{% endblock %}
